<div class="container mt-5">
  <h1 class="display-4 text-center mb-5">All Orders</h1>

<table class="table table-striped table-hover">
  <thead class="thead-light">
    <tr>
      <th>Order ID</th>
      <th>Products</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <% @orders.each do |order| %>
      <tr>
        <td><%= order.id %></td>
        <td><%= order.products.map(&:name).join(', ') %></td>
        <td>
          <%= link_to 'Edit', edit_order_path(order), class: 'btn btn-warning btn-sm' %>
          <%= link_to 'Delete', order, method: :delete, class: 'btn btn-danger btn-sm', data: { confirm: "Are you sure you want to delete this order?" } %>
          <%= link_to 'Show Packages', '#', class: 'btn btn-info btn-sm', data: { toggle: "modal", target: "#packagesModal", order_id: order.id } %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<%= link_to 'New Order', new_order_path, class: 'btn btn-primary mb-3' %>

<%= render 'packages_modal' %>
</div>
